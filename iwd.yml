version: "1"
global:
  #lang_dir: "en_US"
  #lang_preferences: ["#rx#^english", "american english", "#rx#^fran[cç]ais", french, ]
  lang_dir: "fr_FR"
  lang_preferences: ["#rx#^fran[cç]ais", french, "#rx#^english", "american english"]
modules:

##############
# Fixpacks
##############
  #- name: eefixpack
  #  components:
  #  location:
  #    github_user: Gibberlings3
  #    repository: EE_Fixpack
  #    commit: f9906c2-update-it
  ## story
  - name: ub_iwd
    description: Unfinished Business for Icewind Dale
    compatibility: "Only Marketh's Ring is available for Icewind Dale: Enhanced Edition (or the EET conversion). The rest of the restorations were included in IWDEE itself."
    components: ask
    location:
      github_user: Gibberlings3
      repository: iwd_unfinished_business
      release: v11
      asset: lin-ub_iwd-v11.tar.gz

##############
# Full UI
##############
  - name: LEUI-IWDEE # or some other UI mod
    components: # single component
      - 0 # lefreut's Enhanced UI - Core component
    location:
      github_user: r-e-d
      repository: LeUI-IWDEE
      branch: master
      refresh: 3days
  #- name: dragonspear_ui++
  #  components: ask
  #  location:
  #    github_user: 11jo
  #    repository: French-Translation_For_Dragonspear-UI_Artifox
  #    tag: Artifox

##############
# Story/Quest
##############
  - name: Kuldahar
    description: The Rediscovery of Kuldahar
    components: # single component
      - 0 # La redecouverte de Kuldahar (IWDEE) -> Oui, mais sans corriger les sauvegarde existantes
    location:
      path: /home/mick/Games/modda-cache/static-iwd/Kuldahar v2.4.zip
  - name: Snowytoes
    components: # single component
      - 0 # Snowytoes Hamlet, a new area (IWD EE) -> Yes, but don't patch existing save games
    location:
      path: /home/mick/Games/modda-cache/static-iwd/Snowytoes v1.3.zip
  - name: BlinkingDead
    components: # single component
      - 0 # Night of the Blinking Dead (IWD) -> Yes, but don't patch existing save games
    location:
      path: /home/mick/Games/modda-cache/static-iwd/BlinkingDead v3.01.zip
  - name: OurLady
    description: Tale of Our Lady Dreamless
    components: # single component
      - 0 # Tale of Our Lady Dreamless (IWD EE) -> Yes, but don't patch existing save games
    location:
      path: /home/mick/Games/modda-cache/static-iwd/Tale of Our Lady Dreamless v2.6.zip
  - name: InnBB
    description: Below & Below Inn
    components: # single component
      - 0 # Below & Below Inn (IWD EE) -> Yes, but don't patch existing save games
    location:
      path: /home/mick/Games/modda-cache/static-iwd/InnBB v2.3.zip
  - name: Skineater
    components: # single component
      - 0 # Terror of the Skineater (IWD EE) -> Yes, but don't patch existing save games
    location:
      path: /home/mick/Games/modda-cache/static-iwd/Skineater v2.3.zip

##############
# NPC
##############
  - name: iwdnpc
    description: 5 npcs with banter, friendship, interjections, romance
    components: ask
    location:
      github_user: Pocket-Plane-Group
      repository: IWD_NPC
      release: v9
      asset: lin-iwdnpc-v9.zip
  - name: dendjelion
    description: male halfling blackguard + quest
    components:
      - 0 # Dendjelion NPC for IWD:EE
    location:
      path: /home/mick/Games/modda-cache/static-iwd/dendjelion v1.4.zip
      replace:
        file_globs: [ 'dendjelion/scripts/L#dendj.baf' ]
        replace: 'RealSetGlobalTimer("L#DendjelionTime","GLOBAL",2700)'
        with: 'RealSetGlobalTimer("L#DendjelionTime","GLOBAL",1200)'
        file_globs: [ 'dendjelion/scripts/L#dendj.baf' ]
        replace: 'RealSetGlobalTimer("L#DendjelionTime","GLOBAL",2400)'
        with: 'RealSetGlobalTimer("L#DendjelionTime","GLOBAL",990)'
  - name: Dusky
    description: male half-orcish cleric/thief, chaotic neutral; m/m romance
    components:
      - 0 # Dusky NPC for IWD:EE
    location:
      path: /home/mick/Games/modda-cache/static-iwd/Dusky v2.4.1.zip
      replace:
        file_globs: [ 'Dusky/baf/L#DUSKY.baf' ]
        replace: 'RealSetGlobalTimer("DuskyDontTalkOften","GLOBAL",1200)'
        with: 'RealSetGlobalTimer("DuskyDontTalkOften","GLOBAL",600)'
        file_globs: [ 'Dusky/baf/L#DUSKY.baf' ]
        replace: 'RealSetGlobalTimer("DuskyBlacksmithTime","GLOBAL",1200)'
        with: 'RealSetGlobalTimer("DuskyBlacksmithTime","GLOBAL",600)'
        file_globs: [ 'Dusky/baf/L#DUSKY.baf' ]
        replace: 'RealSetGlobalTimer("DuskyHandTalksTime","GLOBAL",1000)'
        with: 'RealSetGlobalTimer("DuskyHandTalksTime","GLOBAL",600)'
  - name: Hommet
    description: necromancer, chaotic good + dialogues, items, spells
    components:
      - 0 # Hommet Shaw for IWD EE
    location:
      path: /home/mick/Games/modda-cache/static-iwd/Hommet v1.0.zip
      replace:
        file_globs: [ 'Hommet/scripts/L#HOMM.baf' ]
        replace: 'RealSetGlobalTimer("L#HommetFriendshipTime","GLOBAL",1800)'
        with: 'RealSetGlobalTimer("L#HommetFriendshipTime","GLOBAL",900)'
        file_globs: [ 'Hommet/dialogues/L#HOMMJ.d' ]
        replace: 'SetGlobalTimer("L#HommPidStoryTime","GLOBAL",FIVE_DAYS)'
        with: 'SetGlobalTimer("L#HommPidStoryTime","GLOBAL",TWO_DAYS)'
  - name: Ina
    description: female bard spectre + banter +romance (with female)
    components: ask
    location:
      path: /home/mick/Games/modda-cache/static-iwd/Ina v2.1.zip
  - name: Lanna
    description: elven paladin, quest, talks, romance
    components: ask
    location:
      path: /home/mick/Games/modda-cache/static-iwd/Lanna v1.6.zip
  - name: OakMaw
    description: dark fey hunter
    components: ask
    location:
      path: /home/mick/Games/modda-cache/static-iwd/OakMaw v2.1.zip
  - name: Orra
    description: fighter/mage/cleric.woman + friendship
    components: ask
    location:
      path: /home/mick/Games/modda-cache/static-iwd/Orra v2.1.zip
  - name: Tipps
    description: halfling geomantic sorcerer + talks + romance + items
    components: ask
    location:
      path: /home/mick/Games/modda-cache/static-iwd/Tipps v2.1.zip
  - name: Tviy
    description: chaotic evil gnome cleric, follows Urdlen
    components: ask
    location:
      path: /home/mick/Games/modda-cache/static-iwd/Tviy v2.2.zip
  - name: Urchin
    description: urchin(creature) + area=night glade
    components: ask
    location:
      path: /home/mick/Games/modda-cache/static-iwd/Urchin v2.2.zip
  - name: DjinniCompanion
    components: ask
    location:
      github_user: Argent77
      repository: DjinniCompanion
      branch: devel
      refresh: 2days
  - name: TuraldNPC
    description: male dwarf figther/cleric, NG, dialogs, interjections, crossmod
    components: ask
    location:
      path: /home/mick/Games/modda-cache/static-iwd/TuraldNPC.zip
  - name: KarihiNPC
    description: genasi pyromancer + friendship + romance + encounter + spells + crossmod banters support
    components: ask
    location:
      github_user: ArtemiusI
      repository: KarihiNPC
      tag: v1.01
  - name: MinervaNPC
    components: ask
    location:
      github_user: ArtemiusI
      repository: KarihiNPC
      tag: v1.1
  - name: CassiaNPC
    components: ask
    location:
      github_user: Arvendor
      repository: CassiaNPC
      branch: master
      refresh: 1day

##############
# Crossmod
##############
  - name: iwdcrossmodpack
    components:
      - 0 # Icewind Dale Crossmod Banter Pack
    location:
      path: /home/mick/Games/modda-cache/static-iwd/IWDCrossmodPack v1.6.zip
      replace:
        file_globs: [ "IWDCrossmodPack/IWDCrossmodPack.tp2" ]
        replace: 'OUTER_SPRINT ~banttime~ ~placeholder_value~'
        with: 'OUTER_SPRINT ~banttime~ ~1~'
        file_globs: [ "IWDCrossmodPack/IWDCrossmodPack.tp2" ]
        replace: 'OUTER_SPRINT ~conflict~ ~placeholder_value~'
        with: 'OUTER_SPRINT ~conflict~ ~2~'
        file_globs: [ "IWDCrossmodPack/IWDCrossmodPack.tp2" ]
        replace: 'OUTER_SPRINT ~conflict-cass-dendj~ ~placeholder_value~'
        with: 'OUTER_SPRINT ~conflict-cass-dendj~ ~2~'
        file_globs: [ "IWDCrossmodPack/IWDCrossmodPack.tp2" ]
        replace: 'OUTER_SPRINT ~conflict-cass-tviy~ ~placeholder_value~'
        with: 'OUTER_SPRINT ~conflict-cass-tviy~ ~2~'
        file_globs: [ "IWDCrossmodPack/IWDCrossmodPack.tp2" ]
        replace: 'OUTER_SPRINT ~romance~ ~placeholder_value~'
        with: 'OUTER_SPRINT ~romance~ ~2~'
  # Use PPE instead
  #- name: MinorNPCPortraitsforIWDEE
  #  components: ~
  #  location:
  #    path: /home/mick/Games/modda-cache/static-iwd/Setup-MinorNPCPortraitsforIWDEEv1.04.zip

##############
# Spells
##############
  - name : stratagems
    description: SCS - the new spells and spell tweaks
    components: ask
    location:
      github_user: mleduque
      repository: SwordCoastStratagems
      branch: fr-fix
      refresh: ask
  - name: Weasels!
    components:
      - 0
    location:
      path: /home/mick/Games/modda-cache/static/weaselmods/Weasels! v3.4.zip
  - name: A7-GolemConstruction
    components: ask
    location:
      github_user: Argent77
      repository: A7-GolemConstruction
      release: v6.3
      asset: A7-GolemConstruction-v6.3.iemod
  - name: wildmage
    components:
      # Rhialto's death gives way too much XP
      - 1 # New Wild Magic Spells -> Haughty pansy
      - 2 # Retain Rhialto's items
      #- 3 # Spellshaper Kit -> Original avatar
      - 5 # Diverses Modifications de Sorts
    location:
      github_user: BGforgeNet
      repository: bg2-wildmage
      release: v2.2
      asset: wild-mage-additions-v2.2.iemod
  - name: SubtleD_Spell_Tweaks
    description: SubtleD's Spell Tweaks
    installation:
      general: probably juste before TnB
      after: spell_rev, iwdification
      before: TomeandBlood, faiths_and_powers, will_to_power, might_and_guile, cdtweaks, stratagems
    components: ask
    location:
      github_user: subtledoctor
      repository: SubtleD_Spell_Tweaks
      tag: "2.6.2"

##############
# Items/Stores
##############
  - name: A7-MagicStore
    components: ask
    location:
      github_user: Argent77
      repository: A7-MagicStore
      branch: devel
      refresh: 2days
  - name: FindIt-IWD
    description: new items
    components: ask
    location:
      path: /home/mick/Games/modda-cache/static-iwd/FindIt-IWD v2.6.zip
  - name: iu_iwd-IWD
    description: Item Upgrade for Icewind Dale
    components: ask
    location:
      github_user: Gibberlings3
      repository: itemupgrade_iwd
      release: v6
      asset: lin-iu_iwd-v6.tar.gz
  - name: ForgeIt-IWD
    description: new items to create
    components: ask
    location:
      path: /home/mick/Games/modda-cache/static-iwd/ForgeIt-IWD v1.8.zip
  - name: msfm
    components: ask
    location:
      github_user: Renegade0
      repository: msfm
      tag: "1.57"
  - name: rr # rogue rebalancing
    description: additional equipment only
    components:
      - 7     # Equipement supplementaire pour les voleurs et les bardes
    location:
      github_user: FredrikLindgren
      repository: rr
      branch: devel
  - name: forgotten-armament
    description: Forgotten armament
    components: ask
    location:
      github_user:  Gibberlings3
      repository: Forgotten-Armament
      tag: "4.0"
      patch:
        relative: iwd/forgotten-armament.diff

##############
# Kits
##############
  #- name: k9IWDEEKit
  #  home: http://www.shsforums.net/files/file/1099-a-frosty-journey-the-iwdee-kitpack/
  #  components: ~
  #  location:
  #    http: http://www.shsforums.net/files/getdownload/12410-a-frosty-journey-the-iwdee-kitpack/
  - name: A7#ImprovedArcher
    components: ask
    location:
      github_user: Argent77
      repository: A7-ImprovedArcher
      releases: v4.2
      asset:  A7-ImprovedArcher-v4.2.iemod
  - name: ArtisansKitpack
    description: ArtisansKitpack - only single-class kits
    components: ask
    location:
      github_user: ArtemiusI
      repository: The-Artisan-s-Kitpack
      tag: v4.3211
  - name: A7-ImprovedShamanicDance
    components: ask
    location:
      github_user: Argent77
      repository: A7-ImprovedShamanicDance
      branch: devel
      refresh: 2days
  - name: A7-ChaosSorcerer
    components: ask
    location:
      github_user: Argent77
      repository: A7-ChaosSorcerer
      branch: devel
      refresh: 2days
  - name: A7-CustomKits
    components: ask
    location:
      github_user: Argent77
      repository: A7-CustomKits
      branch: devel
      refresh: 2days
  - name: song_and_silence
    components: ask
    location:
      github_user: Gibberlings3
      repository: SongAndSilence
      release: v17
      asset: lin-song_and_silence-v17.tar.gz
  - name: TomeAndBlood
    description: Tome And Blood - main
    components: ask
    location:
      github_user: mleduque
      repository: TomeAndBlood
      branch: "1.0.1-fr"
  - name: divine_remix
    components: ask
    location:
      github_user: TotoR115
      repository: Divine_Remix
      commit: a443b16??
  - name: Faiths_and_Powers
    components: ask
    ignore_warnings: true # all except 31 emit no effect changed/added
    location:
      github_user: mleduque
      repository: Faiths_and_Powers
      tag: 0.86sd4-fr
      patch:
        relative: patches/fnp_configure.diff
  - name: 5E_spellcasting
    installation:
      after: Tome & Blood and Faiths & Powers
      before: Might & Guile
      general: >
        1. Casting slots are determined at install time
        2. Memorization slots are determined at runtime
        3. Ability score-based bonuses are determined at install time AND they only work perfectly if they know
            what the spell table is at install time.
        3rd means you really should not change the spell table after installing ability score-based bonuses.
        Memorization slots will naturally adjust, but the stat-based bonuses may get (slightly) out of whack.
    components: ask
    ignore_warnings: true # no effect altered on... for each component
    location:
      github_user: mleduque
      repository: 5E_spellcasting
      branch: 2.2-fr
      patch:
        # configure "lose spell on interrupted" and "int bonus slots"
        relative: patches/spellcasting-5e-config.diff
  - name: sword_and_fist
    components: ask
    location:
      github_user: Gibberlings3
      repository: sword_and_fist
      branch: main
  - name: Will_to_Power
    description: Will to power - the first component warns
    components: ask
    location:
      github_user: mleduque
      repository: Will_to_Power
      branch: 2.5-fr
      patch:
        relative: patches/will_to_power_tweaks.diff
  - name: might_and_guile
    description: Might And Guile - Main component (warns)
    components: ask
    ignore_warnings: true
    location:
      github_user: mleduque
      repository: Might_and_Guile
      tag: 5.6.3-fr
      patch:
        relative: patches/mng-multibard-shools.diff



##############
# Tweaks
##############
  - name: cdtweaks
    components: ask
    location:
      github_user: Gibberlings3
      repository: Tweaks-Anthology
      tag: v16
  - name: S9HouseRules
    components: ask
    location:
      github_user: mleduque
      repository: S9HouseRules
      tag: v1.1
  - name: HouseTweaks
    description: The Artisan's Tweaks and Overhauls
    components: ask
    location:
      github_user: ArtemiusI
      repository: House-Rule-Tweaks
      branch: master
      refresh: 2days
  - name: aTweaks
    components: ask
    location:
      github_user: TotoR # canonical version: FredrikLindgren/aTweaks
      repository: aTweaks
      branch: master
      refresh: 5days
  - name: klatu
    components: ask
    location:
      github_user: The-Gate-Project
      repository: klatu-tweaks-and-fixes
      branch: master
      refresh: 1day
  - name: METweaks
    components: ask
    location:
      github_user: OlvynChuru
      repository: Olvyn-Tweaks
      branch: master
      refresh: 5days
  - name: Trap_Overhaul
    description: Kjeron's Trap Overhaul
    original_thread: https://forums.beamdog.com/discussion/71763/trap-detection-recovery-evasion
    original_dl: https://us.v-cdn.net/5019558/uploads/editor/cq/pzpto4fbfcov.zip
    components:
      - 1111 # Trap Overhaul -> Monk Evasion, Fast Detection, Recovery, Anyone OpenLocks: 0.20
    location:
      github_user: mleduque
      repository: kjeron_Trap_Overhaul
      tag: v0.20-french
      patch:
        relative: trap_overhaul-bonus.diff
  - name: DUAL_TO_KIT
    description: "Kjeron's 'Dual to Kit'"
    original_thread: https://forums.beamdog.com/discussion/comment/985679#Comment_985679
    original_dl: https://us.v-cdn.net/5019558/uploads/editor/m1/4sxyexv1ptj0.zip
    components:
      - 0 # DUAL_TO_KIT_MENU -> Enable Dualclassing into Kits
      - 1 # Grant second-class Specialists their Bonus Spell Slots
      - 2 # Grant second-class Kits their Proper Proficiency Selection
    location:
      github_user: mleduque
      repository: kjeron_DUAL_TO_KIT
      tag: v0.35

##############
# stratagems
##############
  - name : stratagems
    description: SCS - the main part
    components: ask

##############
# Final tweaks
##############
  - name: SubtleD_Item_Tweaks
    installation:
      after: spell_rev, cdtweaks
      before: NPC_EE
    components: ask
    location:
      github_user:  subtledoctor
      repository: SubtleD_Item_Tweaks
      tag: 1.3.1-fr
      patch:
        relative: iwd/configure-yaras.diff
  - name: Combat_Skill_Proficiencies
    installation:
      after: [stratagems, atweaks, cdtweaks]
      before: [ npc_ee ]
    components: ask
    location:
      github_user: subtledoctor
      repository: Combat_Skill_Proficiencies
      tag: "1.4.1-fr"
      patch:
        relative: iwd/combat-skill-profs-config.diff
  - name: SubtleD_Stat_Overhauls
    components: ask
    location:
      github_user: subtledoctor
      repository: SubtleD_Stat_Overhauls
      branch: 1.3.2-fr
      patch:
        relative: iwd/stat-overhaul-config.diff # disable race stat changes
  - name: Magic_Battles_Revised
    installation:
      after: stratagems
    components: ask
    location:
      github_user: mleduque
      repository: magic_battles_revised
      branch: 1.9-fr
      patch:
        relative: iwd/mbr_spell_thrust_lv2.diff
  - name: skills-and-abilities
    description: skills-and-abilities - components that warn
    installation:
      general: "Skills and Abilities Proficiency Overhaul should be installed AFTER SCS just for the reason you specified. No harm in installing after. - morpheus562"
    components: ask
    location:
      github_user: Gibberlings3
      repository: Skills-and-Abilities
      release: "2.1"
      asset: lin-skills-and-abilities-v2.1.zip
      patch:
        relative: iwd/skills-and-abilities.diff
  - name: npc_ee
    installation:
      general: towards theend, after mods that change profs (skills-and-abilities?)
      before: install NPC_EE before Dual-to-Kit
    components:
      #- 1010 #/ Retirer l'indicateur de classe jumelee pour Imoen (attention, lire le fichier Readme): 5.2
      - 2000 #/ Choix des classes/caracteristiques/kits des PNJ: 5.2
    location:
      github_user: subtledoctor
      repository: NPC_EE
      commit: "6.4"
  - name: EET_Tweaks
    components: ask
    location:
      github_user: K4thos
      repository: EET_Tweaks
      branch: master
      refresh: 10days
      patch:
        relative: iwd/eet_tweaks-xpbonus.diff
  - name: POISON_NO_BYPASS
    components:
      - 3 # Limited Exclusions(Anti-magic, AoE, Gaze): Mirror Image or Stoneskin
    location:
      github_user: mleduque
      repository: kjeron_poison_no_bypass
      branch: master
      layout:
        layout_type: single_dir_plus_tp2
        tp2: Setup-POISON_NO_BYPASS.tp2
  - name: cd_appraiser
    components: [ 0 ]
    location:
      github_user: Gibberlings3
      repository: Bardic_Appraisal
      branch: master
      refresh: 2days
  - name: jimfix
    components:
      #- 201 # Add spell school notifications to the combat log -> All spells with a casting time greater than 1
      #- 300 # Expiration notices for spells
      #- 600 # Expiration notices for items
    location:
      github_user: Banananaut
      repository: jimfix
      branch: master
      refresh: 10days
  - name: tnt
    description: Tweaks and Tricks mod for Baldur's Gate 2
    components: ask
    location:
      github_user: BGforgeNet
      repository: bg2-tweaks-and-tricks
      release: v8.29
      asset: tweaks-and-tricks-v8.29.iemod
  - name: zgtweaks
    components: ask
    location:
      github_user: GraionDilach
      repository: RandomGraionTweaks
      release: version-1.12
      asset: random-graion-tweaks-1.12.iemod
  - name: fix_cre_script_names
    description: Some mod out there is altering various creatures' script names to "cre_strref." This hotfix changes the script name of all such creatures from "cre_strref" to their filename.
    components:
    location:
      github_user: subtledoctor
      repository: SubtleD_hotfixes
      tag: v29
  - name: 35thac0
    components: [0]
    location:
      github_user: mleduque
      repository: ie-mods-35
      branch: main
  - name: PathfinderHitDice
    components: [0]
    location:
      github_user: mleduque
      repository: ie-mods-35
      branch: main

##############
# UI tweaks
##############
  - name: EEUITweaks
    components: ask
    location:
      github_user: r-e-d
      repository: EEUI-Tweaks
      release: v4.0.4
      asset: eeuitweaks-4.0.4.iemod
  - name: A7-HiddenGameplayOptions
    components: ask
    location:
      github_user: Argent77
      repository: HiddenGameplayOptions
      branch: devel
      refresh: 2days
  - name: A7-LightingPackEE
    components: ask
    location:
      github_user: Argent77
      repository: A7-LightingPackEE
      branch: devel
      refresh: 2days

##############
# Portraits/Sound/Etc
##############
  - name: HQ_SoundClips_BG2EE?
  - name: InfinitySounds?
  - name: PPE
    description: Portraits, Portraits Everywhere
    components: ask
    location:
      #github_user: DaftHunk # canonical:smeagolheart
      github_user: mleduque
      repository: Portraits-Portraits-Everywhere
      branch: npc-fixes
  - name: PortraitsFromIWD2
    components: ask
    location:
      github_user: Ineth2
      repository: PortraitsFromIWD2
      tag: v01
  - name: iwd_portrait_variations
    components:
    location:
      github_user: Ineth2
      repository: iwd_portrait_variations
      tag: v1.3
  - name: cd_icpp
    components: ask
    location:
      github_user: Gibberlings3
      repository: Infinity_Collection_Portrait_Pack
      release: v2
      asset: infinity-collection-portrait-pack-v2.iemod

##############
# Closing
##############
  - name: A7-Achievements
    components: ask
    location:
      github_user: Argent77
      repository: A7-Achievements
      release: v2.1
      asset:  A7-Achievements-v2.1.iemod
  - name: generalized_biffing
    components:
      - 1
    location:
      github_user: SpellholdStudios
      repository: generalized_biffing
      release: v2.6
      asset: generalized-biffing-v2.6.iemods

